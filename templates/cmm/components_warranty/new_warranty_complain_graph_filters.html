{% load customcmm %}
{% block body %}
    <!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <style>
        /* For desktop and larger devices */
        .filters-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            align-content: center;
            /* margin-left: 7%; */
            width: 95%;
        }

        /* For tablets and smaller devices */
        @media (max-width: 991px) {
            .filters-row {
                flex-direction: column;
                margin-left: 0;
                width: 100%;
            }
        }

        /* For mobile devices */
        @media (max-width: 767px) {
            .filters-row {
                flex-direction: column;
                margin-left: 0;
                width: 100%;
            }
        }

            </style>
        </head>
        <body>
            <form id="myForm" action="/cmm/new_warranty_complain_graph/" method="post">
                {% csrf_token %}
                <div id="all-filters">
                    <div class="filters-row">
                        <div style="margin-bottom: 10px; width: 270px;">{% include 'cmm/components_warranty/complain_id.html' %}</div>
                        <div style="margin-bottom: 10px;">{% include 'cmm/components_warranty/coach_num.html' %}</div>
                        <div style="margin-bottom: 10px;">{% include 'cmm/components_warranty/failed_assembly.html' %}</div>
                    </div>
                    <center>
                        <div>
                            <div style="display: flex; flex-wrap: wrap; justify-content: center;">
                                <div style="width: 270px; margin: auto; height: 50px;">{% include 'cmm/components_warranty/coach_count.html' %}</div>
                                <div style="width: 270px; margin: auto; height: 50px; margin-bottom: 10px">
                                    {% include 'cmm/components_warranty/sort_filter.html' %}
                                </div>
                                {% include 'cmm/components_warranty/date_filters.html' %}
                            </div>
                        </div>
                    </center>
                    <center class="my-3">
                        <button type="submit" class="btn btn-danger">Submit</button>
                    </center>
                </div>
                <hr>
            </form>
            <center class="">
                <button class="btn-dark btn show-btn " id="show-filters">Hide Filters</button>
            </center>
            <script>
    $(document).ready(function() {
        $('#myForm').submit(function(event) {
            event.preventDefault(); 


            var selectedValues = $('#failed-assemblys-dropdown').val();

            
            $.each(selectedValues, function(index, value) {
            $('<input>').attr({
                type: 'hidden',
                name: 'selectedValues',
                value: value
            }).appendTo('#myForm');
            });

            this.submit();
        });
    });
        $(document).ready(function () {
            $("#show-filters").click(function () {
                $("#all-filters").fadeToggle();
                if ($("#show-filters").text() == "Show Filters") {
                    $("#show-filters").text("Hide Filters");
                } else {
                    $("#show-filters").text("Show Filters");
                }
                
            });
        })

        var inputs = document.getElementsByClassName("vscomp-search-input");
        for (var i = 0; i < inputs.length; i++) {
            inputs[i].placeholder = "select all, type here to search";
        }
            </script>
        </body>
    </html>
{% endblock %}
